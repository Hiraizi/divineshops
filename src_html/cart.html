<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gi·ªè H√†ng</title>
    <link rel="icon" href="image/asset_logo_logo-divine-94375.png">
    <link rel="stylesheet" href="../css/Style_cart.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
</head>
<body>

<header>
    <div class="bannerTopHeader">
        <div class="hot">
            <a href="#">‚ü® ‚ü© Kingdom Come: Deliverance II Gold Edition - T√†i kho·∫£n Steam Offline</a>
        </div>
        <div class="header-links">
            <a href="#"><i class="fa-solid fa-book"></i> H∆∞·ªõng d·∫´n mua h√†ng</a>
            <a href="#"><i class="fa-solid fa-tag"></i> ∆Øu ƒë√£i kh√°ch h√†ng</a>
            <a href="#"><i class="fa-solid fa-phone"></i> Th√¥ng tin li√™n h·ªá</a>
        </div>
    </div>

    <div class="bannerTop">
        <div class="logo">
            <a href="../index.html"><img src="../image/b1402e84a947ed36cebe9799e47f61c2.svg" alt="Logo"> Divine Shop</a>
        </div>

        <div class="search">
            <input type="text" placeholder="T√¨m ki·∫øm s·∫£n ph·∫©m...">
            <button><i class="fa-solid fa-search"></i></button>
        </div>

        <div class="user-cart">
            <a href="../src_html/Login.html" class="login"><i class="fa-solid fa-user"></i> ƒêƒÉng nh·∫≠p</a>
            /
            <a href="../src_html/Register.html" class="register">ƒêƒÉng k√Ω</a>
            <div class="cart">
                <a href=""><i class="fa-solid fa-cart-shopping"> </i> Gi·ªè h√†ng (<span id="product-count">0</span>)</a>
            </div>
        </div>
    </div>
</header>
<br><br>
<section>
    <div class="cart-container">
        <h1>üõí Gi·ªè h√†ng</h1>

        <div class="cart-content">
            <!-- C·ªôt Tr√°i: S·∫£n ph·∫©m -->
            <div class="cart-left">
                <div id="cart-items">
                    <!-- S·∫£n ph·∫©m s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y -->
                </div>
            </div>

            <!-- C·ªôt Ph·∫£i: Thanh to√°n -->
            <div class="cart-right">
                <h2>Thanh to√°n</h2>
                <p><strong>T·ªïng gi√° tr·ªã s·∫£n ph·∫©m:</strong> <span id="total-price">0</span> ƒë</p>
                <p><strong>Chi·∫øt kh·∫•u:</strong> <span id="total-discount">0</span> ƒë</p>
                <p><strong>S·ªë ti·ªÅn c·∫ßn thanh to√°n:</strong> <span id="grand-total">0</span> ƒë</p>

                <hr>

                <h3>üí≥ Ch·ªçn ph∆∞∆°ng th·ª©c thanh to√°n:</h3>
                <button class="payment-btn blue"><i class="fa-solid fa-wallet"></i> N·∫°p v√†o t√†i kho·∫£n</button>
                <button class="payment-btn dark-blue"><i class="fa-solid fa-qrcode"></i> Thanh to√°n Mobile Banking</button>
                <button class="payment-btn pink"><i class="fa-brands fa-momo"></i> Thanh to√°n qua MoMo</button>
            </div>
        </div>
    </div>
</section>

<!-- Script -->
<script>
    function renderCart() {
        const cart = JSON.parse(localStorage.getItem("cart")) || [];
        const cartContainer = document.getElementById("cart-items");
        const totalPriceElement = document.getElementById("total-price");

        cartContainer.innerHTML = "";
        let totalPrice = 0;

        cart.forEach(item => {
            totalPrice += item.price * item.quantity;
            cartContainer.innerHTML += `
                <div class="cart-item">
                    <img src="${item.image}" alt="${item.name}" style="width: 100px; border-radius: 10px;">
                    <div>
                        <h3>${item.name}</h3>
                        <p>Gi√°: ${item.price.toLocaleString()} ƒë</p>
                        <p>S·ªë l∆∞·ª£ng: 
                            <button onclick="updateQuantity('${item.id}', -1)">-</button>
                            ${item.quantity}
                            <button onclick="updateQuantity('${item.id}', 1)">+</button>
                        </p>
                        <button onclick="removeItem('${item.id}')">X√≥a</button>
                    </div>
                </div>
            `;
        });

        totalPriceElement.textContent = totalPrice.toLocaleString() + " ƒë";
    }

    function updateQuantity(productId, change) {
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        const index = cart.findIndex(item => item.id === productId);

        if (index !== -1) {
            cart[index].quantity += change;
            if (cart[index].quantity <= 0) {
                cart.splice(index, 1);
            }
            localStorage.setItem("cart", JSON.stringify(cart));
            renderCart();
        }
    }

    function removeItem(productId) {
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        cart = cart.filter(item => item.id !== productId);
        localStorage.setItem("cart", JSON.stringify(cart));
        renderCart();
    }

    document.addEventListener("DOMContentLoaded", renderCart);
</script>
</body>
</html>
